<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><atom:link href="https://gaiwan.co/blog" rel="self" type="application/rss+xml"/><title>Gaiwan Blog</title><link>https://gaiwan.co/blog</link><description>The Gaiwan Blog</description><language>en-us</language><copyright>© 2023 Gaiwan GmbH</copyright><pubDate>Wed, 10 May 2023 00:00:00 +0000</pubDate><image>https://gaiwan.co/assets/imgs/Gaiwan-logo-transparent-bg.png</image><generator>clj-rss</generator><item><title>Building a clojure based video editor and renderer on top of FFMPEG</title><link>https://gaiwan.co/blog/clojure-script-video-editor-ffmpeg</link><description><![CDATA[<div><p>As covid hit, <a href="https://itrevolution.com/">ITRevolution</a> was faced with the task of shifting their entire conference (DevOps Enterprise Summit / DOES) operations online. This included editing over 100 videos per conference, each with custom operations that needed to be fulfilled. To meet this challenge, they turned to us to build a bespoke video editor that could handle their unique needs.</p><p>Our solution was a cloud-native video editor frontend that used FFMPEG DSL behind the scenes. This allowed ITRevolution's team to seamlessly edit and customize their videos using a pretty interface within the browser itself.</p><p>We worked closely with ITRevolution to understand their specific requirements and built a video editor that could handle all of their custom operations.</p><p>We chose to build a video editor completely in ClojureScript to solve the following problems:</p><ul><li><p>Edit multiple videos with customisable templates</p><ul><li><p>Certain conference videos all follow a similar style of editing eg: Have an opening title, background image, 2 picture-in-picture, switch from 1-PIP view to 2-PIP view etc.</p></li><li><p>The editor allowed for video projects to configure these settings easily and getting out of the way. Then all the team had to do was make the right cuts for the content.</p></li><li><p>Once the cuts were made the magic would happen all transparently</p></li></ul></li><li><p>Removing the cut mismatch between ITRevolutions conference team and the video editors</p><ul><li><p>Having to sit with the video editors, or provide them with a timestamp based text file detailing all the cuts needed in the final video was an extremely time-consuming and cumbersome process</p></li><li><p>Small changes to the clip cuts needed an exponential effort to change</p></li><li><p>We built an easy interface to add non-linear timelines to make the trimming and clipping process extremely intuitive</p></li></ul></li><li><p>Syncing speaker and slide footage</p><ul><li><p>Often the conference talks include an accompanying slide / video footage</p></li><li><p>But these recordings are not always in sync</p></li><li><p>We built a nifty UI interface for the conference team members to fix this mismatch and sync the footage</p></li><li><p>They could then preview the synced footage together making the content clipping process even easier</p></li></ul></li><li><p>On-demand rendering</p><ul><li><p>The team sometimes had to make emergency changes to the videos at the end moment, sometimes even as close as 12 hours to the event</p></li><li><p>We had beefy and horizontally scalable rendering machines always available to take up the load</p></li><li><p>The team could just hit a button and the high quality renders would start</p></li></ul></li></ul><h2 id="Hiccup-like%20FFMPEG%20DSL">Hiccup-like FFMPEG DSL</h2><ul><li><p>We leveraged the homoiconicity of Clojure[script] and used something called as “hiccup-styled” datastructures.</p></li><li><p>These are nothing but lists of lists and maps, you can think of it like a tree / simplified XML or HTML</p></li><li><p>Each video meant to be edited had a hiccup-like edit-state, comparable to a saved Adobe Premiere file. Every time an editor made a frontend edit, we saved it in the internal representation of this data structure, which contains all the information related to how the video should be edited.</p></li><li><p>Interaction with this DSL is done through <code>.cljc</code> files, and the code is shared between the backend and frontend</p></li></ul><h2 id="Architechture">Architechture</h2><figure class="image"><img src="/assets/imgs/itrevolution-video-editor-clojure-architecture.png" alt="" /><figcaption>itrev-video-editor-architecture</figcaption></figure><ul><li><p>DOES - DevOps Enterprise Summit</p></li><li><p>Everything coloured is an external service</p></li><li><p>Everything in black is deployed &amp; managed by us</p></li></ul><h2 id="Technology%20stack">Technology stack</h2><ul><li><p>Clojure for the backend</p><ul><li><p>Reitit</p></li><li><p>Integrant</p></li><li><p>Jetty + Ring</p></li><li><p>Jesque</p></li><li><p>Buddy</p></li></ul></li><li><p>Datomic cloud for database</p></li><li><p>ClojureScript for the frontend dashboard, rendering jobs status, and the video editor</p><ul><li><p>Reagent</p></li><li><p>Material UI</p></li><li><p>video.js</p></li></ul></li><li><p>FFMPEG for video editing</p></li><li><p>GCP compute instances for hosting the backend and for video rendering worker machines</p></li><li><p>Redis for enqueing video rendering jobs</p></li><li><p>Ansible for deployments</p></li></ul><h2 id="Have%20an%20FFMPEG%20/%20Live%20streaming%20/%20Video%20library%20need?">Have an FFMPEG / Live streaming / Video library need?</h2><p>Reach out to us at <a href="mailto:contact@gaiwan.co">contact@gaiwan.co</a></p></div>]]></description><author>Mitesh (@oxalorg)</author><pubDate>Wed, 10 May 2023 00:00:00 +0000</pubDate></item><item><title>Delivering devops enterprise summit</title><link>https://gaiwan.co/blog/itrevolution-devops-enterprise-summit</link><description><![CDATA[<div><p>We have worked closely with Gene Kim and his team at <a href="https://itrevolution.com">ITRevolution</a> to build and deliver the Dev Ops Enterprise Summit online conference.</p><p>Up until 2019 these conferences amassed tech leaders from across the globe for an in-person conference. After the pandemic though, there was an urgent need to take this to an online venue without detracting from the experience.</p><p>Gaiwan ended up building a bespoke conference platform suited to the ITRevolution team.</p><p>The products we built were</p><ul><li><p>Reliable Live Streaming with backups</p></li><li><p>Slack logs and Real-time slack widgets</p></li><li><p>Sponsor integrations</p></li><li><p>The Video Editor</p></li><li><p>The Video Library</p></li></ul><p>The technology we used behind all our work was ofcourse Clojure, ClojureScript, Datomic, Redis, Ansible, and hosted everything on GCP (Google Cloud).</p><p>All the details for the above work are contained in this presentation we gave at the DOES conference.</p></div>]]></description><author>Mitesh (@oxalorg)</author><pubDate>Tue, 01 Jun 2021 00:00:00 +0000</pubDate></item><item><title>Growing the Gaiwan team</title><link>https://gaiwan.co/blog/growing-our-team</link><description><![CDATA[<div><p>We have some great news to share today. Our Gaiwan team has officially expanded to <strong>5 team members</strong> now!</p><p>This is a huge milestone for us as a fully remote company. We're now covering a huge set of expertise by combining all of our experiences.</p><h3 id="The%20Fast%20Five">The Fast Five</h3><ul><li><p>Arne</p></li><li><p>Ariel</p></li><li><p>Alys</p></li><li><p>Felipe</p></li><li><p>Mitesh</p></li></ul><p>Take a look at detailed information of all our team members on our about page <a href="/about/">here</a>.</p></div>]]></description><author>Mitesh (@oxalorg@twitter.com)</author><pubDate>Sun, 01 Nov 2020 00:00:00 +0000</pubDate></item><item><title>Still Beating the Averages</title><link>https://gaiwan.co/blog/still-beating-the-averages</link><description><![CDATA[<div><p>It has been just over 20 years since Paul Graham published <a href="http://www.paulgraham.com/avg.html">"Beating the Averages"</a>, one of his more famous articles. While it is perhaps most recognized for its emphatic endorsement of Lisp, Paul Graham's larger point in the article (and source of the title) is that the "average" startup goes out of business. To be successful, he argues, you need to do something to set yourself apart -- to be "above average" -- and using Lisp is one way a startup can be above average.</p><p>At Gaiwan, we definitely agree that Lisp (or, in our case, Clojure) is a super-powered programming language that can empower a team of developers to beat the average. Indeed, some of us have been using Clojure for over a decade to help both startups and large organizations succeed. That said, upon re-reading "Beating the Averages", one notices a flaw in Paul Graham's argument for choosing Lisp.</p><p>Before we can examine that flaw, it is necessary to review the concept of technical debt. In the same way that you might take on debt in order to buy a house before you have saved enough to buy it on your own, taking on technical debt allows you to ship features before you would be able to if you had developed the feature "the right way". In other words: technical debt is a short-cut that you take but will eventually have to replace.</p><p>Paul Graham points out in his essay that the portions of ViaWeb, his startup, that he and Robert Morris had originally written in Lisp had likely already been replaced with another language. Reddit, a startup that emerged from Paul Graham's Y-Combinator startup accelerator, also wrote their first version using Lisp, only to quickly replace it with Python.</p><p>How is it that Lisp, a super-powered programming language, was treated in these two examples as if it were technical debt? If Lisp can dramatically improve programmer productivity, why not continue using it? The answer can be found right in the text of the original article:</p><blockquote><p>After a certain age, programmers rarely switch languages voluntarily. Whatever language people happen to be used to, they tend to consider just good enough.</p></blockquote><p>With a combination of good fortune and good planning, <em>some</em> technology start-ups manage to "make it". After they gain a foothold on the market, they get funding to build out their product "the right way". Still, the need to develop more new features faster than the competition never really goes away. What changes is the calculus of how best to achieve that goal.</p><p>The best technology in the world can only increase developer productivity so much. At some point, the best way to increase the rate at which you can develop new features is to grow your team. However, if the available pool of Lisp developers is smaller than the available pool of developers from some other language, and if you believe Paul Graham that "programmers rarely switch languages", then being forced to switch away from Lisp seems inevitable.</p><p>"Beating the Averages" makes a compelling case that a start-up consisting of a small team of Lisp developers has a strategic advantage. It would seem to follow that a large organization of Lisp developers would, likewise, have a strategic advantage. The problem is how to get from point A to point B.</p><p>Another way of looking at this challenge is to consider which decision is the actual technical debt: the decision to use Lisp at the start? or in the decision to abandon it later? If technical debt is a short-cut you take in order to deliver features faster than you otherwise might, then it would seem that abandoning Lisp in order to facilitate hiring is the true technical debt. But how can this be? Teams that start off with a Lisp, but then move away from it later, don't re-implement everything in Lisp after the hiring is done. So is abandoning Lisp really technical debt?</p><p>The sad reality is that most technical debt never gets paid. Companies that start off using Lisp would be better off, in the long run, if they continued using Lisp. The best way to avoid having to pay for technical debt is to avoid taking it on in the first place. So, how is a company to do that? How can a company grow with Lisp?</p><p>While there are no silver bullets, at Gaiwan we have developed an approach that we've found works rather well:</p><ul><li><p>Reach beyond the traditional pool of developer talent. If we assume that developer talent is evenly distributed across the entire population, and that underrepresented groups are underrepresented because they did not have the same exposure or access to the resources needed to develop those talents, then that means there is a large pool of untapped talent in underrepresented groups. More importantly, it's untapped talent that you don't have to convince to switch languages. Instead, you can start them off right with Clojure from the start.</p></li><li><p>Make it easier for developers who <em>are</em> willing to voluntarily switch languages to do so. One reason experienced developers rarely switch languages is because it means they must spend some amount of time on a new project being less productive than they are used to being. It is possible to develop code, infrastructure, and the on-boarding tools to go along with it all in a way that eases this transition period.</p></li><li><p>Go to where the talent is. Some of us have been working remotely for a decade before the COVID-19 pandemic set in, and we know the simple truth behind remote work: if you want the best developers, you have to be willing to go to where they are. That means being flexible with both time and location.</p></li><li><p>Focus on continuing education. Clojure is an extremely powerful language, but tapping into that power fully requires one to take the approach of being an eternal student. If even the most experienced developers on a team are constantly learning, then developers who are either new to Clojure or new to programming will be more willing to ask the questions they need to in order to develop their own skills.</p></li><li><p>Engage with the community. Especially when a team is small, being able to count on a community of developers that reaches beyond the developers or your own team is vital to being able to find the tools or ask the questions you need to in order to achieve everything else in this list.</p></li></ul><p>Paul Graham concluded "Beating the Averages" by admitting:</p><blockquote><p>The purpose of this article is not to change anyone's mind, but to reassure people already interested in using Lisp -- people who know that Lisp is a powerful language, but worry because it isn't widely used.</p></blockquote><p>Well, the purpose of this article is, similarly to reassure anyone already interested in using Clojure, either for a start-up or for new development within a larger organization: you don't have to worry about growing your team alone. We're here to help you!</p></div>]]></description><author>Joshua Ballanco</author><pubDate>Wed, 08 Jun 2022 00:00:00 +0000</pubDate></item></channel></rss>